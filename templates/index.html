<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artist Tracker</title>

    <link href='https://fonts.googleapis.com/css?family=Inter' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Jockey One' rel='stylesheet'>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/andy_bell-css_reset.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

</head>
<body>
<main>
    <div class="wrapper">
        <section class="logo-container">
            <a class="logo" href="/">Artist Tracker</a>
            <div class="small center">by Gary Norman & Kamil Ornal</div>
        </section>
        <section class="search-container">
            <form action="/search/" method="get">
                <div class="search-input">
                    <label for="search-input"></label>
                    <input type="text" name="search-input" id="search-input" placeholder="Search artist" required autocomplete="off" >
                    <div id="suggestions" class="suggestions"></div>
                </div>
            </form>
            <h3 class="floating-md">Recent searches</h3>
            <div class="floating-md filters go-down">
                <div class="space filter">
                    <h3 class="small light center">Showing 6 results</h3>
                    <div class="button-2" id="button-filter">
                        <div id="button-filter-container" class="button-container">
                            <p class="button-2-text" id="button-filter-number">Filters (0)</p>
                        </div>
                    </div>
                </div>
                <div class="floating-sm col filter">
                    <label for="filter-artist-creation" class="space">
                        <label for="filter-artist-creation">Artist creation date</label>
                        <label class="switch">
                            <input id="filter-artist-creation" type="checkbox">
                            <span class="slider-button round"></span>
                        </label>
                    </label>
                    <div class="filter-open space labels hide">
                        <label for="artist-start-date" class="filter-label-md small light">
                            Start Date
                        </label>
                        <label for="artist-end-date" class="filter-label-md small light">
                            End Date
                        </label>
                    </div>
                    <div class="filter-open space">
                        <label class="button-2 small" id="artist-start-date">
                            Pick a date
                        </label>
                        <label for="artist-date-range" class="filter-label-md small" id="artist-end-date">
                            11 / 01 / 1990
                        </label>
                    </div>
                    <div class="filter-open single-slide-container">
                        <input id="artist-date-range" type="range" min="1" max="100" value="0" class="slider" >
                    </div>
                </div>
                <div class="floating-sm col filter">
                    <label for="filter-album-creation" class="space ">
                        <label for="filter-album-creation">Album creation date</label>
                        <label class="switch">
                            <input id="filter-album-creation" type="checkbox">
                            <span class="slider-button round"></span>
                        </label>
                    </label>
                    <div class="filter-open space labels">
                        <label for="album-start-date" class="filter-label-md small light">
                            Start Date
                        </label>
                        <label for="album-end-date" class="filter-label-md small light">
                            End Date
                        </label>
                    </div>
                    <div class="filter-open space">
                        <label class="button-2 small" id="album-start-date">
                            Pick a date
                        </label>
                        <label for="album-date-range" class="filter-label-md small" id="album-end-date">
                            11 / 01 / 1990
                        </label>
                    </div>
                    <div class="filter-open single-slide-container">
                        <input id="album-date-range" type="range" min="1" max="100" value="0" class="slider" >
                    </div>
                </div>
                <div class="floating-sm col filter">
                    <label for="filter-members-number" class="space">
                        <label for="filter-members-number">Number of members</label>
                        <label class="switch">
                            <input id="filter-members-number" type="checkbox">
                            <span class="slider-button round"></span>
                        </label>
                    </label>
                    <div class="filter-open double-slider-container">
                        <label id="label-members-min" for="members-min-range" class="range_min filter-label-sm small">
                            1 Member
                        </label>
                        <label id="label-members-max" for="members-max-range" class="range_max filter-label-sm small">
                            2 Members
                        </label>
                        <input class="min" id="members-min-range" name="range_1" type="range" min="1" max="10" value="1" />
                        <input class="max" id="members-max-range" name="range_1" type="range" min="1" max="10" value="2" />
                    </div>
                </div>
                <div class="floating-sm col filter">
                    <label for="filter-concert-location" class="space">
                        <label for="filter-concert-location">Concert location</label>
                        <label class="switch">
                            <input id="filter-concert-location" type="checkbox">
                            <span class="slider-button round"></span>
                        </label>
                    </label>
                    <div class="filter-open col col2">
                        <div class="button-2" id="button-filter-checkbox">
                            <div id="button-filter-checkbox-container" class="button-container">
                                <p id="button-filter-concert-location" class="small button-2-text">Search location</p>
                            </div>
                        </div>
                        <div  class="container">
                            <div id="filter-checkbox-locations" class="scroll container col col1">
                                <label for="loc-london-uk" class="checkbox-location go-across-sm " >
                                    <input class="checkbox-location" id="loc-london-uk" name="loc-london-uk" type="checkbox" value="London, UK">
                                    <label class="checkbox-location small" for="loc-london-uk">London, UK</label>
                                </label>
                                <label for="loc-berlin-germany" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-berlin-germany" name="loc-berlin-germany" type="checkbox" value="Berlin, Germany">
                                    <label class="checkbox-location small" for="loc-berlin-germany">Berlin, Germany</label>
                                </label>
                                <label for="loc-dublin-ireland" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-dublin-ireland" name="loc-dublin-ireland" type="checkbox" value="Dublin, Ireland">
                                    <label class="checkbox-location small" for="loc-dublin-ireland">Dublin, Ireland</label>
                                </label>
                                <label for="loc-madrid-spain" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-madrid-spain" name="loc-madrid-spain" type="checkbox" value="Madrid, Spain">
                                    <label class="checkbox-location small" for="loc-madrid-spain">Madrid, Spain</label>
                                </label>
                                <label for="loc-osaka-japan" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-osaka-japan" name="loc-osaka-japan" type="checkbox" value="Osaka, Japan">
                                    <label class="checkbox-location small" for="loc-osaka-japan">Osaka, Japan</label>
                                </label>
                                <label for="loc-florence-italy" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-florence-italy" name="loc-florence-italy" type="checkbox" value="Florence, Italy">
                                    <label class="checkbox-location small" for="loc-florence-italy">Florence, Italy</label>
                                </label>
                                <label for="loc-lima-peru" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-lima-peru" name="loc-lima-peru" type="checkbox" value="Lima, Peru">
                                    <label class="checkbox-location small" for="loc-lima-peru">Lima, Peru</label>
                                </label>
                                <label for="loc-cairo-egypt" class="checkbox-location go-across-sm" >
                                    <input class="checkbox-location" id="loc-cairo-egypt" name="loc-cairo-egypt" type="checkbox" value="Cairo, Egypt">
                                    <label class="checkbox-location small" for="loc-cairo-egypt">Cairo, Egypt</label>
                                </label>
                                <label for="loc-toronto-canada" class="checkbox-location go-across-sm sm" >
                                    <input class="checkbox-location" id="loc-toronto-canada" name="loc-toronto-canada" type="checkbox" value="Toronto, Canada">
                                    <label class="checkbox-location small" for="loc-toronto-canada">Toronto, Canada</label>
                                </label>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div id="search-results"  class="container scroll" >
                    <div id="search-artists" class="col col1">
                        <h2>Artists</h2>
                        <div class="col col3">
                            {{ range . }}
                            <div class="content">
                                <img class="pic user" src="{{.TheAudioDbArtist.ArtistThumb}}" alt="Profile image of {{.Name}}"/>
                                <div class="content-text go-down">
                                    <div class="p--bold cut" >
                                        {{ .Name }}
                                    </div>
                                </div>
                            </div>
                            {{ end }}
                        </div>
                    </div>
                    <div id="search-members" class="col col1">
                        <h2>Members</h2>
                        <div class="col col3">
                            {{ $member := "" }}
                            {{ range . }}
                            <div class="content">
                                <img class="pic user" src="{{.TheAudioDbArtist.ArtistThumb}}" alt="Profile image of {{.Name}}"/>
                                <div class="content-text go-down">
                                    <div class="p--bold cut" >
                                        {{ $member = index .Members (random (len .Members)) }}
                                        {{ if gt (len .Members) 1}}
                                        {{ $member }}
                                        {{else}}
                                        {{ index .Members 0 }}
                                        {{ end }}
                                    </div>
                                    {{ if gt (len .Members) 1 }}
                                    <div class="small light cut">
                                        {{ .Name }}
                                    </div>
                                    {{else}}
                                    {{if same $member .Name }}
                                    <div class="small light cut">
                                        Member & Artist
                                    </div>
                                    {{else}}
                                    <div class="small light cut">
                                        aka {{ .Name }}
                                    </div>
                                    {{ end }}
                                    {{ end }}
                                </div>

                            </div>
                            {{ end }}
                        </div>
                    </div>
                    <div id="search-albums" class="col col1">
                        <h2>Albums</h2>
                        <div class="col col2">
                            {{ range . }}
                            <div class="content">
                                <img class="pic album" src="{{.TadbAlbum.AlbumThumb}}" alt="Profile image of {{.Name}}"/>

                                <div class="content-text go-down">
                                    <div class="p--bold cut" >{{.TadbAlbum.Album}}</div>
                                    <div class="small light cut">{{.Name}}</div>
                                </div>
                            </div>
                            {{ end }}
                        </div>
                    </div>
                    <div id="search-concerts" class="col col1">
                        <h2>Concerts</h2>
                        <div class="col col3">
                            {{ range . }}
                            {{ $artist := . }}
                            {{ range $location, $dates := $artist.DatesLocations }}
                            {{ $sortedDates := sortDates $dates }}
                            {{ range $date := $sortedDates }}
                            {{ $dateParts := formatDate $date }}
                            <div class="content">
                                <div class="pic date">
                                    <div>{{ $dateParts.Day }} {{ $dateParts.Month }}</div>
                                    <div>{{ $dateParts.Year }}</div>
                                </div>
                                <div class="content-text go-down-home">
                                    <div class="p--bold cut concert">{{ $artist.Name }}</div>
                                    <div class="concert">
                                        <div class="small light cut">{{ $location }}</div>
                                        <!--                                <div class="divider-dot"></div>-->
                                        <!--                                <div class="small light cut"></div>-->
                                    </div>
                                </div>
                            </div>
                            {{ end }}
                            {{ end }}
                            {{ end }}
                        </div>
                    </div>
                </div>
            </div>

        </section>
        <section id="home-artists" class="container col col1">
            <h2>Discover Artists and Members</h2>
            <div class="scroll row row-sm">
                {{ range $index, $element := . }}
                {{ if lt $index 20 }}
                <div class="content">
                    <img class="pic user" src="{{.TheAudioDbArtist.ArtistThumb}}/preview" alt="Profile image of {{.Name}}"/>
                    <div class="content-text go-down-home">
                        <div class="p--bold cut center" >
                            {{ if gt (len .Members) 1 }}
                            <!-- chooses a random index from pool of member -->
                            {{ index .Members 0}}
                            {{ else }}
                            <!-- If there's only 1 member or no members, display the ArtistName -->
                            {{ .Name }}
                            {{ end }}
                        </div>
                        {{ if gt (len .Members) 1 }}
                        <div class="small light cut">
                            {{ .Name }}
                        </div>
                        {{ end }}

                    </div>

                </div>
                {{ end }}
                {{ end }}
            </div>
        </section>
        <section id="home-albums" class="container col col1">

                <h2>Trending Albums</h2>
                <div class="row scroll">
                    {{ range $index, $element := . }}
                    {{ if lt $index 20 }}
                    <div class="content">
                        <img class="pic album" src="{{.TadbAlbum.AlbumThumb}}" alt="Profile image of {{.Name}}"/>

                        <div class="content-text go-down-home">
                            <div class="p--bold cut" >{{.TadbAlbum.Album}}</div>
                            <div class="small light cut">{{.Name}}</div>
                        </div>
                    </div>
                    {{ end }}
                    {{ end }}
                </div>

        </section>
        <section id="home-concerts" class="container">
            <div  class="container scroll col col1">
                <h2>Concerts</h2>
                <div class="col col3">
                    {{ range . }}
                    {{ $artist := . }}
                    {{ range $location, $dates := $artist.DatesLocations }}
                    {{ $randomDates := randomiseDates $dates }}
                    {{ range $date := $randomDates }}
                    {{ $dateParts := formatDate $date }}
                    <div class="content">
                        <div class="pic date">
                            <div>{{ $dateParts.Day }} {{ $dateParts.Month }}</div>
                            <div>{{ $dateParts.Year }}</div>
                        </div>
                        <div class="content-text go-down-home">
                            <div class="p--bold cut concert">{{ $artist.Name }}</div>
                            <div class="concert">
                                <div class="small light cut">{{ $location }}</div>
<!--                                <div class="divider-dot"></div>-->
<!--                                <div class="small light cut"></div>-->
                            </div>
                        </div>
                    </div>
                    {{ end }}
                    {{ end }}
                    {{ end }}
                </div>
            </div>
        </section>
    </div>
</main>
<script type="text/javascript" src="../js/default.js"></script>
<!--for search-bar-suggestions-->
<script type="text/javascript" src="../js/suggestion.js"></script>


</body>
</html>